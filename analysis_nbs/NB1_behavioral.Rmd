---
title: "Experience vs. description based decision-making project: Behavioral data descriptive stats and cleaning"
output: html_notebook
---

# Set up environment and load in data

```{r}
library(tidyverse)
```

```{r}
helpers_path = '~/Dropbox/RangelLab/DescribedVsLearned/helpers/'
```

Read in behavioral data

```{r}
source(paste0(helpers_path,'get_behavioral_data.R'))
```

# Descriptive stats

## Number of subjects

How many subjects do we have raw data from?

```{r}
length(unique(beh_data$subnum))
```

How many sessions per subject and trials per session? (There is no subject 21 or 26)

```{r}
with(beh_data, table(subnum, session))
```

## Response times

What is the response times distribution?

```{r}
beh_data %>%
  ggplot()+
  geom_histogram(aes(reactionTime), bins=50)
```

How many trials have negative RTs?

```{r}
beh_data %>% 
  filter(reactionTime < 0)
```

```{r}
beh_data %>% 
  filter(reactionTime == 0)
```

How many trials have RT<.2 seconds?

```{r}
nrow(beh_data %>% 
  filter(reactionTime <.2))
```

Are trials with RT<.2 disproportionately from one subject/session?

There is one subject with more trials with unrealistic RTs (07) but even for this subject the number of trials-to-be-excluded is <5% of their data so not excluding any subjects entirely based on RT data. Will exclude individual trials (23+8=31) that have unrealistic RTs.

```{r}
beh_data %>% 
  filter(reactionTime < 0.2) %>%
  count(subnum, session)
```

## Choices

There are two choice-related columns. `responded` and `choiceLeft`.

According to `fmri_bundles > task > RunTrial.m` the `responded` column should only be 1 or 0. Instead there are three unique values for this column.

```{r}
table(beh_data$responded)
```

The -1's in `responded` map onto those trials with `reactionTime` == 0.

```{r}
beh_data %>%
  filter(responded == -1)
```

What are the 0's in the `responded` column?

```{r}
beh_data %>%
  filter(responded == 0)
```

What is the `choiceLeft`Ã¥ column?

```{r}

```

# Data cleaning steps

- Exclude non-responded trials.
- Exclude trials RTs <.2 seconds. 


All of this will be incorporated in `clean_behaviora_data.R`
